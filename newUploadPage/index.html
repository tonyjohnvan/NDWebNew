<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>new upload page</title>

  <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <link rel="stylesheet" href="css/circleprogress.css">
  <link rel="stylesheet" href="css/dropzone.css">
  <link rel="stylesheet" href="css/index.css">
</head>
<body>
<nav class="navbar navbar-default">
  <div class="container">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">NimbleDroid</a>
      </div>

      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="#">Link</a></li>
        </ul>
      </div>
    </div>
  </div>
</nav>

<section id="uploadDescription">
  <div class="container text-center">
    <h2>Upload App</h2>
    <p>Uploads are used only for generating a profile that is accessible only to your account. Once profiling is
      completed, we delete your APK.</p>
    <div class="requirements">
      Prerequisites
    </div>
    <div class="row">
      <div class="col-sm-4">
        <div class="row">
          <div class="col-xs-3 text-right requirementWrapper">
            <div class="requirementIconWrapper">
              <img src="img/gamepad.png" alt="">
            </div>
          </div>
          <div class="col-xs-9 text-left requirementWrapper">
            <span class="requirementText">Cannot be a game</span>
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <div class="row">
          <div class="col-xs-3 text-right requirementWrapper">
            <div class="requirementIconWrapper">
              <img src="img/android.svg" alt="">
            </div>
          </div>
          <div class="col-xs-9 text-left requirementWrapper">
            <span class="requirementText">Can run on Android 4.4</span>
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <div class="row">
          <div class="col-xs-3 text-right requirementWrapper">
            <div class="requirementIconWrapper">
              <img src="img/apple-social-logo-outline.svg" alt="">
            </div>
          </div>
          <div class="col-xs-9 text-left requirementWrapper">
            <span class="requirementText">Can run on IOS 10</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="uploadWrapper">
  <div class="container">
    <div class="uploadPanelContainer">
      <div class="uploadPanelLeft fullWidth">
        <div class="leftContentContainer">
          <div class="titleWrapper">
            <h2>UPLOAD</h2>
          </div>
          <div class="uploadLogoSectionWrapper">
            <div class="iconNameWrapper">
              <div class="checkmarkWrapper">
                <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                  <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>
                  <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                </svg>
              </div>
              <div class="uploadSuccessText">
                <span>Your App has been profiling!</span>
              </div>
              <div class="uploadLogoWrap">
                <img id="uploadAppIcon" src="img/apple-big-logo.svg" alt="">
              </div>
              <div class="uploadAppName">
                <span>New iOS App</span>
              </div>
            </div>
          </div>
          <div class="footerWrapper">
            <div class="buttonWrap" id="normalBtns">
              <span class="glyphicon glyphicon-share-alt flipHorizontal" id="backBtn" aria-hidden="true"></span>
              <span class="glyphicon glyphicon-ok" id="confirmBtn" aria-hidden="true"></span>
            </div>
            <div class="buttonWrap" id="finishedBtn">
              <button class="viewProfileBtn">VIEW the profile</button>
            </div>
          </div>
        </div>
        <div class="fullWidthContentContainer">
          <div class="titleWrapperFull">
            <h2>Select an app to upload</h2>
          </div>
          <div class="appsContainer">
            <div class="appWrapper newAppWrap">
              <p class="appName"><span class="glyphicon glyphicon-plus"></span></p>
              <p class="bundleName">New iOS App</p>
            </div>
            <div class="appWrapper existingAppWrap">
              <div class="iconWrapper">
                <img src="img/tempIcon.png" alt="">
              </div>
              <p class="appName">AppName</p>
              <p class="bundleName">BundleName</p>
            </div>
            <div class="appWrapper existingAppWrap">
              <div class="iconWrapper">
                <img src="img/tempIcon.png" alt="">
              </div>
              <p class="appName">AppName</p>
              <p class="bundleName">BundleName</p>
            </div>
            <div class="appWrapper existingAppWrap">
              <div class="iconWrapper">
                <img src="img/tempIcon.png" alt="">
              </div>
              <p class="appName">AppName</p>
              <p class="bundleName">BundleName</p>
            </div>
            <div class="appWrapper existingAppWrap">
              <div class="iconWrapper">
                <img src="img/tempIcon.png" alt="">
              </div>
              <p class="appName">AppName</p>
              <p class="bundleName">BundleName</p>
            </div>
            <div class="appWrapper existingAppWrap">
              <div class="iconWrapper">
                <img src="img/tempIcon.png" alt="">
              </div>
              <p class="appName">AppName</p>
              <p class="bundleName">BundleName</p>
            </div>
            <div class="ghostWrapper"></div>
            <div class="ghostWrapper"></div>
            <div class="ghostWrapper"></div>
            <div class="ghostWrapper"></div>
          </div>
        </div>
      </div>
      <div class="uploadPanelRight">
        <div id="existingUpload">
          <div class="descriptionWrap">
            <h4>Upload your app</h4>
            <p>Let's kick things off by uploading your app. We'll add it to our profile queue while you continue
              NimbleDroid setup. Your files are kept private and once profiled we'll delete them.</p>
          </div>
          <div class="divider"></div>
          <div class="uploadContainer">
            <div class="uploadLeftWrap">
              <form action="/upload/ipa"
                    class="dropzone"
                    id="ipaUpload"></form>
              <div class="desContent">
                <div class="uploadIcon"></div>
                <h4>App Bundle file (ipa)</h4>
                <p>In order to upload a correct App Bundle for us to use, please follow the instruction: </p>
                <ol>
                  <li><kbd>⌘</kbd> + <kbd>,</kbd> to open the preference settings of Xcode and bla bla bla</li>
                  <li>Ipsum Lorem bla bla bla</li>
                  <li>Zip and Upload</li>
                </ol>
              </div>
            </div>
            <div class="uploadRightWrap">
              <form action="/upload/test"
                    class="dropzone"
                    id="testUpload"></form>
              <div class="desContent">
                <div class="uploadIcon"></div>
                <h4>TEST Bundle file (zip)</h4>
                <p>Please make sure include these files inside your zip file: </p>
                <ol>
                  <li>Test runner bundle</li>
                  <li>Test runner definition file (xctestrun)</li>
                  <li>List of test cases (newline-delimited text file)</li>
                </ol>
              </div>
            </div>
          </div>
        </div>
        <div id="newUploadWizard">
          <div class="topHeader vertical-center-wrap">
            <ul id="wizardStepsWrap">
              <li class="wizardStep active" onclick="gotoStep(0)">1. Upload</li>
              <li class="wizardStep" onclick="gotoStep(1)">2. Sharing</li>
              <li class="wizardStep" onclick="gotoStep(2)">3. Alerts</li>
            </ul>
          </div>
          <div class="footerBtns vertical-center-wrap">
            <div class="btnWraps">
              <div class="prevBtnWrap">
                <button class="nd-btn-blue fancy disabled" id="wizardPreviousStep">Previous</button>
              </div>
              <div class="nextBtnWrap">
                <button class="nd-btn-blue fancy" id="wizardNextStep">Next</button>
              </div>
            </div>
          </div>
          <div class="contentWrap">
            <div class="wizardStepContainer active" id="step1">
              <div class="descriptionWrap">
                <h4>Upload your app</h4>
                <p>Let's kick things off by uploading your app. We'll add it to our profile queue while you continue
                  NimbleDroid setup. Your files are kept private and once profiled we'll delete them.</p>
              </div>
              <div class="divider"></div>
              <div class="uploadContainer">
                <div class="uploadLeftWrap">
                  <form action="/upload/ipa"
                        class="dropzone"
                        id="ipaUploadNew"></form>
                  <div class="desContent">
                    <div class="uploadIcon"></div>
                    <h4>App Bundle file (ipa)</h4>
                    <p>In order to upload a correct App Bundle for us to use, please follow the instruction: </p>
                    <ol>
                      <li><kbd>⌘</kbd> + <kbd>,</kbd> to open the preference settings of Xcode and bla bla bla</li>
                      <li>Ipsum Lorem bla bla bla</li>
                      <li>Zip and Upload</li>
                    </ol>
                  </div>
                </div>
                <div class="uploadRightWrap">
                  <form action="/upload/test"
                        class="dropzone"
                        id="testUploadNew"></form>
                  <div class="desContent">
                    <div class="uploadIcon"></div>
                    <h4>TEST Bundle file (zip)</h4>
                    <p>Please make sure include these files inside your zip file: </p>
                    <ol>
                      <li>Test runner bundle</li>
                      <li>Test runner definition file (xctestrun)</li>
                      <li>List of test cases (newline-delimited text file)</li>
                    </ol>
                  </div>
                </div>
              </div>
            </div>
            <div class="wizardStepContainer" id="step2">
              <div class="descriptionWrap">
                <h4>Alerts</h4>
                <p>Alerts will notify you when profile results meet certain criteria for one or all Scenarios. You can
                  configure thresholds as well as how alerts are delivered.</p>
              </div>
              <div class="divider"></div>
              <div class="alertChannelSelectWrap">
                <div class="checkRadioLine" id="enableEmailCheck">
                  <div class="switch-wrapper">
                    <input type="checkbox" id="switch" checked/>
                    <label for="switch"><span><em></em></span></label>
                  </div> <!-- /siwtch-wrapper -->
                  <div class="checkBoxLabel">Enable Email Chanel to</div>
                  <input type="text" placeholder="admin@nimbledroid.com" class="alertEmailAddress fancyInput">
                </div>
                <div class="checkRadioLine" id="enableSlackCheck">
                  <div class="switch-wrapper">
                    <input type="checkbox" id="switch2" checked/>
                    <label for="switch2"><span><em></em></span></label>
                  </div> <!-- /siwtch-wrapper -->
                  <div class="checkBoxLabel">Enable Slack Chanel</div>
                </div>
              </div>
              <div class="divider"></div>
              <div class="alertChannelSelectWrap">
                <h4>For All Scenarios when</h4>
                <div class="checkRadioLine" id="significantSlow">
                  <div class="switch-wrapper">
                    <input type="checkbox" id="switch3" checked/>
                    <label for="switch3"><span><em></em></span></label>
                  </div> <!-- /siwtch-wrapper -->
                  <div class="checkBoxLabel">Slows significantly vs previous upload</div>
                </div>
                <div class="checkRadioLine" id="memleak">
                  <div class="switch-wrapper">
                    <input type="checkbox" id="switch4" checked/>
                    <label for="switch4"><span><em></em></span></label>
                  </div> <!-- /siwtch-wrapper -->
                  <div class="checkBoxLabel">Detects a memory leak</div>
                </div>
                <div class="checkRadioLine" id="appcrash">
                  <div class="switch-wrapper">
                    <input type="checkbox" id="switch5" checked/>
                    <label for="switch5"><span><em></em></span></label>
                  </div> <!-- /siwtch-wrapper -->
                  <div class="checkBoxLabel">Detects a app crash</div>
                </div>
                <div class="checkRadioLine" id="finished">
                  <div class="switch-wrapper">
                    <input type="checkbox" id="switch6" checked/>
                    <label for="switch6"><span><em></em></span></label>
                  </div> <!-- /siwtch-wrapper -->
                  <div class="checkBoxLabel">Finishes profiling</div>
                </div>
              </div>
            </div>
            <div class="wizardStepContainer" id="step3">
              This is step3
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<footer>
  <div class="container text-center">this is the footer</div>

</footer>

<script src="js/jquery.js"></script>
<script src="bootstrap/js/bootstrap.min.js"></script>
<script src="js/dropzone.js"></script>
<script>


  function enterAppUpload() {
    $('.uploadPanelLeft').removeClass('fullWidth')
    setTimeout(function () {
    }, 600)
  }

  function enterAppSelection() {
    $('.uploadPanelLeft').addClass('fullWidth')
    setTimeout(function () {
    }, 600)
  }

  function fixHeight() {
    if ($('.uploadPanelLeft').hasClass('fullWidth')) {
    } else {
    }
  }

  function uploadFinished() {
    $('.uploadPanelLeft').addClass('finished')
    $('.uploadLogoWrap').fadeOut(600)
    $('.uploadAppName').fadeOut(600)
    $('#normalBtns').fadeOut(600)

    $('.checkmarkWrapper').delay(1000).fadeIn()
    $('.uploadSuccessText').delay(1000).fadeIn()
    $('#finishedBtn').delay(2300).fadeIn()
  }

  /* -=-=-=-=-=-=-=-=-=-=-=-=-=-
   *      wizard code here
   * -=-=-=-=-=-=-=-=-=-=-=-=-=- */
  function gotoStep(step) {

    if(step <0 || step >2) return false

    $('#wizardPreviousStep').removeClass('disabled')
    $('#wizardNextStep').removeClass('disabled')

    if (step === 0) {
      $('#wizardPreviousStep').addClass('disabled')
    }

    if (step === 2) {
      $('#wizardNextStep').addClass('disabled')
    }

    var $wizardStepContainer = $('.wizardStepContainer')
    $wizardStepContainer.removeClass('active')
    $($wizardStepContainer[step]).addClass('active')
    var $wizardStep = $('.wizardStep')
    $wizardStep.removeClass('active')
    $($wizardStep[step]).addClass('active')
  }

  $(document).ready(function () {
    $('#backBtn').on('click', function () {
      enterAppSelection()
    });
    $('.appWrapper').on('click', function () {
      enterAppUpload()
    });
    $('#confirmBtn').on('click', function () {
      uploadFinished()
    });
    $('.newAppWrap').on('click', function () {
      $('#existingUpload').hide()
      $('#newUploadWizard').show()
    });
    $('.existingAppWrap').on('click', function () {
      $('#existingUpload').show()
      $('#newUploadWizard').hide()
    });

    /* -=-=-=-=-=-=-=-=-=-=-=-=-=-
     *      wizard code here
     * -=-=-=-=-=-=-=-=-=-=-=-=-=- */

    $('#wizardPreviousStep').on('click', function () {
      var currentWizardStep = $('#wizardStepsWrap').children(".active").index()
      gotoStep(--currentWizardStep)
    });
    $('#wizardNextStep').on('click', function () {
      var currentWizardStep = $('#wizardStepsWrap').children(".active").index()
      gotoStep(++currentWizardStep)
    });

    Dropzone.options.ipaUpload = {
      paramName: "ipa", // The name that will be used to transfer the file
      maxFiles: 1,
      uploadMultiple: false,
      addRemoveLinks: true,
      init: function () {
        this.on("addedfile", function (file) {
          console.log("Added file.");
          $('.uploadLeftWrap').addClass('haveFile')
        });
        this.on("removedfile", function (file) {
          console.log("removed file.");
          $('.uploadLeftWrap').removeClass('haveFile')
        });
        this.on("maxfilesexceeded", function (file) {
          this.removeAllFiles();
          this.addFile(file);
        });
      }
    };
    Dropzone.options.testUpload = {
      paramName: "ipa", // The name that will be used to transfer the file
      maxFiles: 1,
      uploadMultiple: false,
      addRemoveLinks: true,
      init: function () {
        this.on("addedfile", function (file) {
          console.log("Added file.");
          $('.uploadRightWrap').addClass('haveFile')
        });
        this.on("removedfile", function (file) {
          console.log("removed file.");
          $('.uploadRightWrap').removeClass('haveFile')
        });
        this.on("maxfilesexceeded", function (file) {
          this.removeAllFiles();
          this.addFile(file);
        });
      }
    };
    Dropzone.options.ipaUploadNew = {
      paramName: "ipa", // The name that will be used to transfer the file
      maxFiles: 1,
      uploadMultiple: false,
      addRemoveLinks: true,
      init: function () {
        this.on("addedfile", function (file) {
          console.log("Added file.");
          $('.uploadLeftWrap').addClass('haveFile')
        });
        this.on("removedfile", function (file) {
          console.log("removed file.");
          $('.uploadLeftWrap').removeClass('haveFile')
        });
        this.on("maxfilesexceeded", function (file) {
          this.removeAllFiles();
          this.addFile(file);
        });
      }
    };
    Dropzone.options.testUploadNew = {
      paramName: "ipa", // The name that will be used to transfer the file
      maxFiles: 1,
      uploadMultiple: false,
      addRemoveLinks: true,
      init: function () {
        this.on("addedfile", function (file) {
          console.log("Added file.");
          $('.uploadRightWrap').addClass('haveFile')
        });
        this.on("removedfile", function (file) {
          console.log("removed file.");
          $('.uploadRightWrap').removeClass('haveFile')
        });
        this.on("maxfilesexceeded", function (file) {
          this.removeAllFiles();
          this.addFile(file);
        });
      }
    };

  })
</script>
</body>
</html>
